# Import block
import csv
import re
from datetime import datetime
import urllib.request
import ssl
from bs4 import BeautifulSoup

# Global constants
#url_list = ['https://www.ecb.europa.eu/press/pr/date/1999/html/pr990304.en.html']

url_list = ['https://www.ecb.europa.eu/press/pr/date/1999/html/pr990304.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990318.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990408.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990422.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990506.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990520.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990602.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990617.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990701.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990715.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990729.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990826.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990909.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr990923.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991007.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991021.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991104.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991118.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991202.en.html',
    'https://www.ecb.europa.eu/press/pr/date/1999/html/pr991215.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000105.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000120.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000203.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000217.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000302.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000316.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000330.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000413.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000427.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000511.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000525.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000608.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000621.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000706.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000720.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000803.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000831.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr000914.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001005.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001019.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001102.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001116.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001130.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2000/html/pr001214.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010104.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010118.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010201.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010215.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010301.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010315.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010329.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010411.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010426.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010510.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010523.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010607.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010621.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010705.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010719.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010802.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010830.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010913.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010917.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr010927.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr011011.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr011025.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr011108.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2001/html/pr011206.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020103.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020207_1.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020307.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020404.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020502.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020606.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020704.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020801.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr020912.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr021010.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr021107.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2002/html/pr021205.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030109.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030206.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030306.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030403.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030508.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030605.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030710.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030731.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr030904.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr031002.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr031106.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2003/html/pr031204.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040108.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040205.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040304.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040401.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040506.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040603.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040701.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040805.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr040902.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr041007.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr041104.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2004/html/pr041202.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050113.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050203.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050303.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050407.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050504.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050602.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050707.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050804_2.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr050901.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr051006.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr051103.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2005/html/pr051201.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060112.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060202.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060302.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060406.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060504.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060608.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060706.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060803.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr060831.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr061005.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr061102.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2006/html/pr061207.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070111.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070208.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070308.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070412.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070510.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070606.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070705.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070802.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr070906.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr071004.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr071108.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2007/html/pr071206.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080110.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080207.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080306.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080410.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080508.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080605.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080703.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080807.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr080904.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr081002.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr081008.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr081106.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2008/html/pr081204.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090115.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090205.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090305.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090402.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090507.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090604.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090702.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090806.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr090903.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr091008.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr091105.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2009/html/pr091203.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100114.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100204.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100304.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100408.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100506.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100610.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100708.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100805.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr100902.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr101007.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr101104.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2010/html/pr101202.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110113.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110203.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110303.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110407.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110505.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110609.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110707.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110804.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr110908.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr111006.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr111103.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2011/html/pr111208.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120112.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120209.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120308.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120404.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120503.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120606.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120705.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120802.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr120906.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr121004.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr121108.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2012/html/pr121206.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130110.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130207.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130307.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130404.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130502.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130606.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130704.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130801.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr130905.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr131002.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr131107.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2013/html/pr131205.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140109_2.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140206.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140306.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140403.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140508.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140605.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140703.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140807.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr140904.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr141002.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr141106.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2014/html/pr141204.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150122.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150305.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150415.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150603.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150716.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr150903.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr151022.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2015/html/pr151203.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160121.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160310.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160421.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160602.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160721.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr160908.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr161020.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2016/html/pr161208.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/pr170119.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/pr170309.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp170427.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp170608.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp170720.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp170907.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp171026.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2017/html/ecb.mp171214.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180125.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180308.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180426.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180614.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180726.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp180913.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp181025.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2018/html/ecb.mp181213.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190124~5c00d09d5d.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190307~7d8a9d2665.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190410~3df2ed8a4c.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190606~1876cad9a5.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190725~52d3766c9e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp190912~08de50b4d2.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp191024~438769bd4f.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2019/html/ecb.mp191212~06d84240ae.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200123~ae33d37f6e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200312~8d3aec3ff2.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200430~1eaa128265.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200604~a307d3429c.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200716~fc5fbe06d9.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp200910~f4a8da495e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp201029~4392a355f4.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2020/html/ecb.mp201210~8c2778b843.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210121~eb9154682e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210311~35ba71f535.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210422~f075ebe1f0.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210610~b4d5381df0.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210722~48dc3b436b.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp210909~2c94b35639.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp211028~85474438a4.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2021/html/ecb.mp211216~1b6d3a1fd8.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220203~90fbe94662.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220310~2d19f8ba60.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220414~d1b76520c6.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220609~122666c272.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220721~53e5bdd317.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp220908~c1b6839378.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp221027~df1d778b84.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2022/html/ecb.mp221215~f3461d7b6e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230202~08a972ac76.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230316~aad5249f30.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230504~cdfd11a697.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230615~d34cddb4c6.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230727~da80cfcf24.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp230914~aab39f8c21.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp231026~6028cea576.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2023/html/ecb.mp231214~9846e62f62.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240125~f738889bde.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240307~a5fa52b82b.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240411~1345644915.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240606~2148ecdb3c.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240718~b9e0ddd9d5.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp240912~67cb23badb.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp241017~aa366eaf20.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2024/html/ecb.mp241212~2acab6e51e.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2025/html/ecb.mp250130~530b29e622.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2025/html/ecb.mp250306~d4340800b3.en.html',
    'https://www.ecb.europa.eu/press/pr/date/2025/html/ecb.mp250417~42727d0735.en.html'
]

# Main execution block
# Create unverified SSL context (⚠️ not recommended for production use)
ssl_context = ssl._create_unverified_context()
results = []
date_pattern = re.compile(r'(?:pr|ecb\.mp)(\d{6})')  # handles both 'pr' and 'ecb.mp'

for url in url_list:
    try:
        # Extract date from URL using regex
        match = date_pattern.search(url)
        if match:
            raw_date = match.group(1)  # e.g., '990304' or '170608'
            date_obj = datetime.strptime(raw_date, "%y%m%d")
            formatted_date = date_obj.strftime("%d-%m-%y")  # e.g., '08-06-17'
        else:
            formatted_date = ""

        html = urllib.request.urlopen(url, context=ssl_context).read()
        soup = BeautifulSoup(html, 'html.parser')
        section_div = next((div for div in soup.find_all("div", class_="section") if div.find("p")), None)
        list_div = soup.find("div", class_="orderedlist")

        section_text = section_div.get_text(" ", strip=True) if section_div else ""
        list_text = list_div.get_text(" ", strip=True) if list_div else ""

        # Combine both
        text = section_text + " " + list_text

        results.append((formatted_date, url, text))

    except Exception as e:
        print(f"Error on {url}: {e}")
        results.append(("", url, ""))

# Save to CSV with date, url, and text
with open("scraped_texts_with_dates.csv", "w", newline='', encoding="utf-8") as f:
    writer = csv.writer(f)
    writer.writerow(["date", "url", "text"])
    writer.writerows(results)
